# 2025-09-17 MVP Timeline

## Objectives
- Finalize Pydantic models for matrix configs and generate JSON schema for IDE support.
- Implement template field extraction and draft DAX query builder aligned with matrix needs.
- Produce mock data pipeline and Plotly-based matrix renderer to demonstrate the flow end-to-end.

## Progress
- Pydantic models and JSON schema exporter established (`schemas/matrix.json` via `python -m praeparo.schema`).
- YAML loader, template field extraction, and DAX query planning implemented with mock dataset generator.
- Plotly table renderer and CLI (`praeparo`) wire the pipeline end-to-end using `tests/visuals/matrix/auto.yaml`.
- CLI confirmed to produce Plotly HTML output (`build/auto.html`) alongside generated DAX text.
- Optional PNG snapshots available via `--png-out` (`poetry add kaleido` installs the dependency; now covered by the PNG pipeline test).
- Visual fixtures reorganized under `tests/visuals/` with per-YAML syrupy snapshots (matrix today, column/scatter ready for expansion).
- DAX statements snapshotted alongside visuals for regression coverage.
- `show_as` percent-of-total logic generates DAX expressions automatically.
- Integration tests scaffolded with real dataset/workspace IDs (skipped unless PRAEPARO_RUN_POWERBI_TESTS=1).
- Test suite runs in the Poetry environment (`poetry run pytest`) with syrupy-powered snapshots for DAX plans.
- Integration suite snapshots real Power BI responses; value fields verified non-null.

## Blockers
- Awaiting implementation of Mock Power BI data provider and DAX measure registry decisions.
- Styling and publishing workflow requirements still undefined.

## Next Steps
- Harden template evaluation (e.g., context rendering, error messaging) and extend beyond matrix visuals.
- Harden template evaluation (e.g., context rendering, error messaging) and extend beyond matrix visuals.
- Add service-principal authentication flow for Power BI to replace refresh-token stopgap.
- Layer in styling/theming controls and PPTX export once visualization defaults are approved.
- Expand integration coverage with additional YAML fixtures and numeric field validations.
